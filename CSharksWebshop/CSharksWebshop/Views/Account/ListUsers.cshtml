@using CSharksWebshop.Models
@{
    ViewBag.Title = "ListUsers";
}
<div class="container">
    <div class="row">
        <h2>Users</h2>

        <p>
            @*@Html.ActionLink("Create New", "Create")*@
        </p>
        <table class="table table-striped">
            <thead class="thead-dark">
                <tr>
                    <th>
                        Username
                    </th>
                    <th>
                        Email
                    </th>
                    <th>
                        Role
                    </th>

                </tr>
                </thead>
                @foreach (ApplicationUser item in ViewBag.Users as List<ApplicationUser>)
                {

    <tr>
        <td>
            @item.Id


        </td>
        <td>
            @item.Id
            @item.UserName

        </td>

        <td>
            @if (item.Roles.SingleOrDefault(r => r.RoleId == "2" && r.UserId == item.Id) != null)
            {
                @Html.ActionLink(" Change to User ", "ChangeToUser", new { id = item.Id }, new { @class ="btn btn-sm btn-warning", style= "padding-left:1em; padding-right:1em;" })
            }
            else
            {
                @Html.ActionLink("Change to Admin", "PromoteToAdmin", new { id = item.Id }, new { @class = "btn btn-sm btn-primary" })
            }
            @*@Html.ActionLink("Details", "Details", new { id = item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.Id })*@
        </td>
    </tr>
    }

        </table>
        </div>
</div>